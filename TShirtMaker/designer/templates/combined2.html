{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>T-shirt Customizer - Modular</title>
  <!-- External Dropzone CSS for upload styling -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.css">
  <!-- Custom CSS for the app -->
  <link rel="stylesheet" href="{% static 'css/tshirt_customizer_modular.css' %}">
</head>
<body>
  <header>
    <h1>T-shirt Customizer</h1>
  </header>
  
  <!-- Clothing Style and Color Selection -->
  <section class="variant-selector" ar-label="Clothing Variant Selector">
    <label for="clothingStyle">Choose Clothing Style:</label>
    <select id="clothingStyle" name="clothingStyle" aria-label="Select Clothing Style">
      <!-- Options populated dynamically -->
    </select>
    
    <label for="clothingColor">Choose Colour:</label>
    <select id="clothingColor" name="clothingColor" aria-label="Select Clothing Colour">
      <!-- Options populated dynamically -->
    </select>
  </section>
  
  <!-- Customization Area -->
  <main class="tshirt-container" aria-label="T-shirt Display">
    <article class="tshirt-section" id="section-front">
      <img class="base-image" id="front-base" src="" alt="Front T-shirt">
      <div class="designated-area" id="front-dropzone" tabindex="0" aria-label="Front Upload Area">
         <div class="upload-placeholder">+</div>
         <img class="overlay-image" id="front-overlay" src="" alt="Front Design" style="display:none;">
      </div>
    </article>
    
    <article class="tshirt-section" id="section-back">
      <img class="base-image" id="back-base" src="" alt="Back T-shirt">
      <div class="designated-area" id="back-dropzone" tabindex="0" aria-label="Back Upload Area">
         <div class="upload-placeholder">+</div>
         <img class="overlay-image" id="back-overlay" src="" alt="Back Design" style="display:none;">
      </div>
    </article>
    
    <article class="tshirt-section" id="section-leftSleeve">
      <img class="base-image" id="leftSleeve-base" src="" alt="Left Sleeve T-shirt">
      <div class="designated-area" id="leftSleeve-dropzone" tabindex="0" aria-label="Left Sleeve Upload Area">
         <div class="upload-placeholder">+</div>
         <img class="overlay-image" id="leftSleeve-overlay" src="" alt="Left Sleeve Design" style="display:none;">
      </div>
    </article>
    
    <article class="tshirt-section" id="section-rightSleeve">
      <img class="base-image" id="rightSleeve-base" src="" alt="Right Sleeve T-shirt">
      <div class="designated-area" id="rightSleeve-dropzone" tabindex="0" aria-label="Right Sleeve Upload Area">
         <div class="upload-placeholder">+</div>
         <img class="overlay-image" id="rightSleeve-overlay" src="" alt="Right Sleeve Design" style="display:none;">
      </div>
    </article>
  </main>

  <!-- Save Button -->
  <section class="controls">
    <button id="save-btn">Save Design</button>
  </section>

  <!-- Real-Time Preview Carousel with 4 Slides -->
  <section class="preview-container" aria-label="Real-Time T-shirt Preview">
    <div class="preview-outer">
      <button class="prev">‹</button>
      <button class="next">›</button>
      <div class="preview-box">
        <div class="preview-slider">
          <article class="tshirt-section preview-slide" data-view="front">
            <img class="base-image" id="preview-front-base" src="" alt="Front T-shirt Preview">
            <div class="designated-area">
              <img class="overlay-image" id="preview-front-overlay" src="" alt="Front Design Preview" style="display:none;">
            </div>
          </article>
          <article class="tshirt-section preview-slide" data-view="rightSleeve">
            <img class="base-image" id="preview-rightSleeve-base" src="" alt="Right Sleeve T-shirt Preview">
            <div class="designated-area">
              <img class="overlay-image" id="preview-rightSleeve-overlay" src="" alt="Right Sleeve Design Preview" style="display:none;">
            </div>
          </article>
          <article class="tshirt-section preview-slide" data-view="back">
            <img class="base-image" id="preview-back-base" src="" alt="Back T-shirt Preview">
            <div class="designated-area">
              <img class="overlay-image" id="preview-back-overlay" src="" alt="Back Design Preview" style="display:none;">
            </div>
          </article>
          <article class="tshirt-section preview-slide" data-view="leftSleeve">
            <img class="base-image" id="preview-leftSleeve-base" src="" alt="Left Sleeve T-shirt Preview">
            <div class="designated-area">
              <img class="overlay-image" id="preview-leftSleeve-overlay" src="" alt="Left Sleeve Design Preview" style="display:none;">
            </div>
          </article>
        </div>
      </div>
      <div class="preview-controls">
        <input type="range" class="zoom-slider" min="50" max="200" value="100" aria-label="Zoom Control">
        <span class="view-label">Front</span>
      </div>
    </div>
  </section>

  <!-- Modal Container -->
  <div id="modalContainer" class="modal">
    <div class="modal-content">
      <span class="close" id="modalClose">&times;</span>
      <iframe id="editorIframe" src="" frameborder="0"></iframe>
    </div>
  </div>
  

  <!-- Saved Designs Gallery -->
  <section class="saved-designs" aria-label="Saved Designs Gallery">
    <h2>Saved Designs</h2>
    <div id="saved-designs-list"></div>
  </section>

  <!-- Toast Notification -->`
  <div id="toast" class="toast" role="alert" aria-live="polite"></div>

  <!-- Scripts -->
  <script src="{% static 'js/tshirtConfig.js' %}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.js"></script>
  <script src="{% static 'js/tshirt_customizer.js' %}"></script>
</body>
</html>